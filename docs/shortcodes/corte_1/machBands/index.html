<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Mach Bands # Exercise
Develop a terrain visualization application. Check out the 3D terrain generation with Perlin noise coding train tutorial.
Solution # Implementation of a terrain visualization application in P5 that uses Perlin noise to generate a 3D terrain:
Code Implementation let canvasWidth, canvasHeight; let cols, rows; const scl = 20; const w = 1400; const h = 1000; let flying = 0; let terrain = []; const noiseScale = 0."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Mach Bands # Exercise
Develop a terrain visualization application. Check out the 3D terrain generation with Perlin noise coding train tutorial.
Solution # Implementation of a terrain visualization application in P5 that uses Perlin noise to generate a 3D terrain:
Code Implementation let canvasWidth, canvasHeight; let cols, rows; const scl = 20; const w = 1400; const h = 1000; let flying = 0; let terrain = []; const noiseScale = 0."><meta property="og:type" content="article"><meta property="og:url" content="https://jumorap.github.io/showcase/docs/shortcodes/corte_1/machBands/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-08T00:01:41-05:00"><title>Mach Bands | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-98eb846fa59edb294aae7910c3c642ec class=toggle checked>
<label for=section-98eb846fa59edb294aae7910c3c642ec class="flex justify-between"><a role=button>Corte 1</a></label><ul><li><a href=/showcase/docs/shortcodes/corte_1/color/>Color</a></li><li><a href=/showcase/docs/shortcodes/corte_1/machBands/ class=active>Mach Bands</a></li></ul></li><li><input type=checkbox id=section-c1868768dbab1c4e29bff25ddfd9a301 class=toggle>
<label for=section-c1868768dbab1c4e29bff25ddfd9a301 class="flex justify-between"><a role=button>Tutoriales</a></label><ul><li><a href=/showcase/docs/shortcodes/tutoriales/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-047615443b93f7846685e44979fc65bd class=toggle>
<label for=section-047615443b93f7846685e44979fc65bd class="flex justify-between"><a href=/showcase/docs/shortcodes/tutoriales/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/tutoriales/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tutoriales/tabs/>Tabs</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Mach Bands</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#mach-bands>Mach Bands</a><ul><li><a href=#solution>Solution</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=mach-bands>Mach Bands
<a class=anchor href=#mach-bands>#</a></h1><blockquote class="book-hint info"><p><strong>Exercise</strong></p><p>Develop a terrain visualization application. Check out the 3D terrain generation with Perlin noise coding train tutorial.</p></blockquote><h2 id=solution>Solution
<a class=anchor href=#solution>#</a></h2><p>Implementation of a terrain visualization application in P5 that uses Perlin noise to generate a 3D terrain:</p><details><summary>Code Implementation</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvasWidth</span>, <span style=color:#a6e22e>canvasHeight</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cols</span>, <span style=color:#a6e22e>rows</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>scl</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1400</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>flying</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>terrain</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>noiseScale</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>noiseStrength</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lightDirection</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gradient</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span><span style=color:#a6e22e>canvasWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>windowWidth</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>canvasHeight</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>windowHeight</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>canvasWidth</span>, <span style=color:#a6e22e>canvasHeight</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gradient</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>), <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>)];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cols</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>scl</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rows</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>scl</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lightDirection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>rows</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>] <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>cols</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span><span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>(<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>canvasHeight</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>canvasHeight</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>tan</span>(<span style=color:#a6e22e>PI</span><span style=color:#f92672>/</span><span style=color:#ae81ff>6</span>), <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>rows</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>cols</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>noise</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>noiseScale</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>noiseScale</span>, <span style=color:#a6e22e>flying</span>), <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>pow</span>(<span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>], <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>noiseStrength</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorVal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lerpColor</span>(<span style=color:#a6e22e>gradient</span>[<span style=color:#ae81ff>0</span>], <span style=color:#a6e22e>gradient</span>[<span style=color:#ae81ff>1</span>], <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>]);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorVal</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scl</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>w</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scl</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>h</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>]);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>box</span>(<span style=color:#a6e22e>scl</span>, <span style=color:#a6e22e>scl</span>, <span style=color:#a6e22e>terrain</span>[<span style=color:#a6e22e>y</span>][<span style=color:#a6e22e>x</span>]);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>flying</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><iframe id=machBands style=width:623px;height:623px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/machBands.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p>The Mach bands effect occurs when the human visual system exaggerates the contrast between adjacent areas of a gradient, creating the perception of a band of increased brightness or darkness along the boundary between the two areas. In this case, the blocks appear darker than expected because the human visual system is enhancing the contrast between adjacent blocks due to the sharp boundaries between them.</p><p>One possible application of the Mach bands effect is in image processing and digital displays. By simulating the Mach bands effect, it is possible to enhance the perceived contrast in images and displays, making them appear sharper and more vivid. This can be useful in fields such as medical imaging, where it is important to distinguish between subtle variations in shades of gray, or in design and advertising, where it is important to create visually appealing displays that grab the viewer&rsquo;s attention.</p><p>Another possible application of the Mach bands effect is in visual illusions and art. By manipulating the contrast between adjacent areas of a gradient, it is possible to create optical illusions and visual effects that play with the viewer&rsquo;s perception and challenge their understanding of the image. This can be seen in various forms of art, such as Op Art and Kinetic Art, where the visual effects are created through careful manipulation of color, shape, and contrast.</p><p>Overall, the Mach bands effect is a fascinating phenomenon that demonstrates the complex interplay between the human visual system and the physical properties of light and color. By understanding the principles behind this effect, we can design better displays, create more engaging art, and gain a deeper appreciation for the richness and complexity of the visual world around us.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/jumorap/showcase/commit/5b5609b9727bf119238360ebe541348f4fc49ca4 title='Last modified by jumorap | March 8, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 8, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#mach-bands>Mach Bands</a><ul><li><a href=#solution>Solution</a></li></ul></li></ul></nav></div></aside></main></body></html>