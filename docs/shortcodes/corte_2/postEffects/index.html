<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Mach Bands # Exercises
Implement other coloring brightness tools such as HSV value V, HSL lightness L or Component average. Implement texture tinting by mixing color and texel interpolated data. Solution # The solution implemented additional coloring brightness tools including HSV value V, HSL lightness L, and Component average. It also added texture tinting by mixing color and texel interpolated data.
texturing.js var Tree=function(t){const e={LIBRARY:&#34;p5.treegl&#34;,VERSION:&#34;0.6.2&#34;,HOMEPAGE:&#34;https://github.com/VisualComputing/p5.treegl&#34;};Object.freeze(e);return t??={},t.INFO=e,t.NONE=0,t.X=1,t.Y=2,t.Z=4,t._X=8,t._Y=16,t._Z=32,t.LABELS=64,t.SOLID=0,t.DOTS=1,t.SQUARE=0,t.CIRCLE=1,t.PROJECTION=2,t.NEAR=1,t.FAR=2,t.LEFT=4,t.RIGHT=8,t.BOTTOM=16,t.TOP=32,t.BODY=64,t.INVISIBLE=0,t.VISIBLE=1,t.SEMIVISIBLE=2,t.WORLD=&#34;WORLD&#34;,t.EYE=&#34;EYE&#34;,t.NDC=&#34;NDC&#34;,t.SCREEN=&#34;SCREEN&#34;,t.MODEL=&#34;MODEL&#34;,t.ORIGIN=[0,0,0],t.i=[1,0,0],t.j=[0,1,0],t.k=[0,0,1],t._i=[-1,0,0],t._j=[0,-1,0],t._k=[0,0,-1],t.lowp=0,t.mediump=1,t.highp=2,t.pmvMatrix=1,t.pMatrix=2,t.mvMatrix=4,t.nMatrix=8,t.color4=1,t.texcoords2=2,t.normal3=4,t.position2=8,t.position3=16,t.position4=32,t}(Tree);console.log(Tree.INFO),p5.Matrix.prototype.mult3=function(t){if(void 0!==this.mat3)return new p5.Vector(this.mat3[0]*t.x+this.mat3[3]*t.y+this.mat3[6]*t.z,this.mat3[1]*t.x+this.mat3[4]*t.y+this.mat3[7]*t.z,this.mat3[2]*t.x+this.mat3[5]*t.y+this.mat3[8]*t.z);console.error(&#34;mult3 only works with mat3&#34;)},p5."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Mach Bands # Exercises
Implement other coloring brightness tools such as HSV value V, HSL lightness L or Component average. Implement texture tinting by mixing color and texel interpolated data. Solution # The solution implemented additional coloring brightness tools including HSV value V, HSL lightness L, and Component average. It also added texture tinting by mixing color and texel interpolated data.
texturing.js var Tree=function(t){const e={LIBRARY:&#34;p5.treegl&#34;,VERSION:&#34;0.6.2&#34;,HOMEPAGE:&#34;https://github.com/VisualComputing/p5.treegl&#34;};Object.freeze(e);return t??={},t.INFO=e,t.NONE=0,t.X=1,t.Y=2,t.Z=4,t._X=8,t._Y=16,t._Z=32,t.LABELS=64,t.SOLID=0,t.DOTS=1,t.SQUARE=0,t.CIRCLE=1,t.PROJECTION=2,t.NEAR=1,t.FAR=2,t.LEFT=4,t.RIGHT=8,t.BOTTOM=16,t.TOP=32,t.BODY=64,t.INVISIBLE=0,t.VISIBLE=1,t.SEMIVISIBLE=2,t.WORLD=&#34;WORLD&#34;,t.EYE=&#34;EYE&#34;,t.NDC=&#34;NDC&#34;,t.SCREEN=&#34;SCREEN&#34;,t.MODEL=&#34;MODEL&#34;,t.ORIGIN=[0,0,0],t.i=[1,0,0],t.j=[0,1,0],t.k=[0,0,1],t._i=[-1,0,0],t._j=[0,-1,0],t._k=[0,0,-1],t.lowp=0,t.mediump=1,t.highp=2,t.pmvMatrix=1,t.pMatrix=2,t.mvMatrix=4,t.nMatrix=8,t.color4=1,t.texcoords2=2,t.normal3=4,t.position2=8,t.position3=16,t.position4=32,t}(Tree);console.log(Tree.INFO),p5.Matrix.prototype.mult3=function(t){if(void 0!==this.mat3)return new p5.Vector(this.mat3[0]*t.x+this.mat3[3]*t.y+this.mat3[6]*t.z,this.mat3[1]*t.x+this.mat3[4]*t.y+this.mat3[7]*t.z,this.mat3[2]*t.x+this.mat3[5]*t.y+this.mat3[8]*t.z);console.error(&#34;mult3 only works with mat3&#34;)},p5."><meta property="og:type" content="article"><meta property="og:url" content="https://jumorap.github.io/showcase/docs/shortcodes/corte_2/postEffects/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-05-21T19:36:48-05:00"><title>Post Effects | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-98eb846fa59edb294aae7910c3c642ec class=toggle>
<label for=section-98eb846fa59edb294aae7910c3c642ec class="flex justify-between"><a role=button>Corte 1</a></label><ul><li><a href=/showcase/docs/shortcodes/corte_1/color/>Color</a></li><li><a href=/showcase/docs/shortcodes/corte_1/depthPerception/>Depth Perception</a></li><li><a href=/showcase/docs/shortcodes/corte_1/machBands/>Mach Bands</a></li><li><a href=/showcase/docs/shortcodes/corte_1/masking/>Masking</a></li><li><a href=/showcase/docs/shortcodes/corte_1/SpatialCoherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/corte_1/video/>Video</a></li></ul></li><li><input type=checkbox id=section-b734f2044c27199f5b28b6ff9e224df3 class=toggle checked>
<label for=section-b734f2044c27199f5b28b6ff9e224df3 class="flex justify-between"><a role=button>Corte 2</a></label><ul><li><a href=/showcase/docs/shortcodes/corte_2/postEffects/ class=active>Post Effects</a></li><li><a href=/showcase/docs/shortcodes/corte_2/texturing/>Texturing</a></li></ul></li><li><input type=checkbox id=section-054e72caecd528c85f6d2359bf2d2e8c class=toggle>
<label for=section-054e72caecd528c85f6d2359bf2d2e8c class="flex justify-between"><a role=button>Introducing Myself</a></label><ul><li><a href=/showcase/docs/shortcodes/introducingMyself/jleonro/>Jleonro</a></li><li><a href=/showcase/docs/shortcodes/introducingMyself/jumorap/>Jumorap</a></li><li><a href=/showcase/docs/shortcodes/introducingMyself/ycuervob/>Ycuervob</a></li></ul></li><li><input type=checkbox id=section-c1868768dbab1c4e29bff25ddfd9a301 class=toggle>
<label for=section-c1868768dbab1c4e29bff25ddfd9a301 class="flex justify-between"><a role=button>Tutoriales</a></label><ul><li><a href=/showcase/docs/shortcodes/tutoriales/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-047615443b93f7846685e44979fc65bd class=toggle>
<label for=section-047615443b93f7846685e44979fc65bd class="flex justify-between"><a href=/showcase/docs/shortcodes/tutoriales/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/tutoriales/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tutoriales/tabs/>Tabs</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Post Effects</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#mach-bands>Mach Bands</a><ul><li><a href=#solution>Solution</a></li><li><a href=#description>Description</a><ul><li><a href=#previous-work>Previous work</a></li><li><a href=#future-work>Future work</a></li></ul></li><li><a href=#usages>Usages</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=mach-bands>Mach Bands
<a class=anchor href=#mach-bands>#</a></h1><blockquote class="book-hint info"><p><strong>Exercises</strong></p><ol><li>Implement other coloring brightness tools such as HSV value V, HSL lightness L or Component average.</li><li>Implement texture tinting by mixing color and texel interpolated data.</li></ol></blockquote><h2 id=solution>Solution
<a class=anchor href=#solution>#</a></h2><p>The solution implemented additional coloring brightness tools including HSV value V, HSL lightness L, and Component average. It also added texture tinting by mixing color and texel interpolated data.</p><details><summary>texturing.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>LIBRARY</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;p5.treegl&#34;</span>,<span style=color:#a6e22e>VERSION</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;0.6.2&#34;</span>,<span style=color:#a6e22e>HOMEPAGE</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https://github.com/VisualComputing/p5.treegl&#34;</span>};Object.<span style=color:#a6e22e>freeze</span>(<span style=color:#a6e22e>e</span>);<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>??=</span>{},<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>INFO</span><span style=color:#f92672>=</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>NONE</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>X</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Y</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Z</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>_X</span><span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>_Y</span><span style=color:#f92672>=</span><span style=color:#ae81ff>16</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>_Z</span><span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>LABELS</span><span style=color:#f92672>=</span><span style=color:#ae81ff>64</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>SOLID</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>DOTS</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>SQUARE</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>CIRCLE</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>PROJECTION</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>NEAR</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>FAR</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>LEFT</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>RIGHT</span><span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>BOTTOM</span><span style=color:#f92672>=</span><span style=color:#ae81ff>16</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>TOP</span><span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>BODY</span><span style=color:#f92672>=</span><span style=color:#ae81ff>64</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>INVISIBLE</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>VISIBLE</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>SEMIVISIBLE</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;WORLD&#34;</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;EYE&#34;</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;NDC&#34;</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;SCREEN&#34;</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>MODEL</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;MODEL&#34;</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>ORIGIN</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>j</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>k</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>_i</span><span style=color:#f92672>=</span>[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>_j</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>_k</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>lowp</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>mediump</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>highp</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>pmvMatrix</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>mvMatrix</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>nMatrix</span><span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>color4</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>texcoords2</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>normal3</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>position2</span><span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>position3</span><span style=color:#f92672>=</span><span style=color:#ae81ff>16</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>position4</span><span style=color:#f92672>=</span><span style=color:#ae81ff>32</span>,<span style=color:#a6e22e>t</span>}(<span style=color:#a6e22e>Tree</span>);<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>INFO</span>),<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mult3</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>void</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>!==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>)<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>6</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>7</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat3</span>[<span style=color:#ae81ff>8</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>);<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;mult3 only works with mat3&#34;</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mult4</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(...<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_mult4</span>([<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#ae81ff>1</span>]))},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_mult4</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>void</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>!==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>)<span style=color:#66d9ef>return</span>[<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>8</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>12</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>3</span>],<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>9</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>13</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>3</span>],<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>6</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>10</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>14</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>3</span>],<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>7</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>11</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>3</span>]];<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;_mult4 only works with mat4&#34;</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>tMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>transpose</span>(<span style=color:#a6e22e>t</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>invMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>t</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>axbMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>e</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>iMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>lMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>lMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>lMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>e</span>).<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>t</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>dMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>dMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>dMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>(),<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>t</span>).<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>e</span>)}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>(<span style=color:#e6db74>&#34;mat3&#34;</span>,[<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>4</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>8</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>1</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>9</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>2</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>6</span>],<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>10</span>]])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>pMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>copy</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>mvMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>?</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()).<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>e</span>)<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uMVMatrix</span>.<span style=color:#a6e22e>copy</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>mMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>(),<span style=color:#a6e22e>mvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mvMatrix</span>()}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>e</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>nMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>nMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>nMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>mvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mvMatrix</span>({<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>})}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>(<span style=color:#e6db74>&#34;mat3&#34;</span>).<span style=color:#a6e22e>inverseTranspose</span>(<span style=color:#a6e22e>r</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>vMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_curCamera</span>.<span style=color:#a6e22e>vMatrix</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Camera</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>cameraMatrix</span>.<span style=color:#a6e22e>copy</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>eMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_curCamera</span>.<span style=color:#a6e22e>eMatrix</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Camera</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>cameraMatrix</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>cameraMatrix</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pmvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>pmvMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pmvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>mvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mvMatrix</span>({<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>})}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>i</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>pvMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_curCamera</span>.<span style=color:#a6e22e>cameraMatrix</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>e</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>pvInvMatrix</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span><span style=color:#f92672>?</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>copy</span>()<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pvMatrix</span>({<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>});<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>i</span>.<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>i</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>isOrtho</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>isOrtho</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>isOrtho</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>isOrtho</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>isOrtho</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>!=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>nPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>nPlane</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>nPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>nPlane</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>nPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>14</span>]<span style=color:#f92672>/</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>10</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>:</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>14</span>])<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>10</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>fPlane</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>fPlane</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>14</span>]<span style=color:#f92672>/</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>10</span>])<span style=color:#f92672>:</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>14</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>10</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>lPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>lPlane</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>lPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>lPlane</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>lPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>?-</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>12</span>])<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nPlane</span>()<span style=color:#f92672>*</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>8</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>rPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>rPlane</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>rPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>rPlane</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>rPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>?</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>12</span>])<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nPlane</span>()<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>8</span>])<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>tPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>tPlane</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>tPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>tPlane</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>tPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>?</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>13</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nPlane</span>()<span style=color:#f92672>*</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>9</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>bPlane</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>bPlane</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bPlane</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>]<span style=color:#f92672>?</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>13</span>])<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nPlane</span>()<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>9</span>])<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>]},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fov</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>fov</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fov</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>fov</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fov</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>if</span>(<span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>])<span style=color:#66d9ef>return</span> Math.<span style=color:#a6e22e>abs</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>atan</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>5</span>]));<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;fov only works for a perspective projection&#34;</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>hfov</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>hfov</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>hfov</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>hfov</span>()},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>hfov</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>if</span>(<span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>])<span style=color:#66d9ef>return</span> Math.<span style=color:#a6e22e>abs</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>atan</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>0</span>]));<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;hfov only works for a perspective projection&#34;</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>beginHUD</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>beginHUD</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>beginHUD</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mv</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mvMatrix</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>p</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pMatrix</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>();<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>drawingContext</span>;<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>flush</span>(),<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>disable</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>DEPTH_TEST</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uMVMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>;<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>=</span>Number.<span style=color:#a6e22e>MAX_VALUE</span>;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_curCamera</span>.<span style=color:#a6e22e>ortho</span>(<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>,<span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>e</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>endHUD</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>endHUD</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>endHUD</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>drawingContext</span>;<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>flush</span>(),<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>enable</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>DEPTH_TEST</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>.<span style=color:#a6e22e>set</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>p</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uMVMatrix</span>.<span style=color:#a6e22e>set</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mv</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_map</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>_map</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_map</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>n</span>){<span style=color:#66d9ef>return</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>)<span style=color:#f92672>/</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>)<span style=color:#f92672>*</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#a6e22e>i</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>i</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>treeLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>treeLocation</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>treeLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span><span style=color:#f92672>!</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>===</span><span style=color:#a6e22e>arguments</span>.<span style=color:#a6e22e>length</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>]<span style=color:#66d9ef>instanceof</span> Object)<span style=color:#f92672>||</span><span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>]<span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span><span style=color:#f92672>||</span>Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>])<span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeLocation</span>(...<span style=color:#a6e22e>arguments</span>)<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeLocation</span>(<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>ORIGIN</span>,<span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_treeLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>_treeLocation</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_treeLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>ORIGIN</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>)),<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>MODEL</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>({<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>})),<span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>MODEL</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>({<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>})),<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenLocation</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>})<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_location</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>})<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToNDCLocation</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ndcToScreenLocation</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToNDCLocation</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenLocation</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>}))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_location</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ndcToScreenLocation</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>})<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>||</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>)<span style=color:#f92672>?</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>r</span>)).<span style=color:#a6e22e>mult4</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_location</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ndcToScreenLocation</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>}))<span style=color:#f92672>:</span>(<span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>||</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToNDCLocation</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenLocation</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#a6e22e>o</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>).<span style=color:#a6e22e>mult4</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>}))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>||</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>)<span style=color:#f92672>?</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>r</span>)).<span style=color:#a6e22e>mult4</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span>(<span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>||</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#a6e22e>o</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>).<span style=color:#a6e22e>mult4</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>lMatrix</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>}).<span style=color:#a6e22e>mult4</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>||</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>)<span style=color:#f92672>?</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>r</span>)).<span style=color:#a6e22e>mult4</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_location</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>}))<span style=color:#f92672>:</span>(<span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>||</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenLocation</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#a6e22e>o</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>).<span style=color:#a6e22e>mult4</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>})<span style=color:#f92672>:</span>(<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;couldn&#39;t parse your treeLocation query!&#34;</span>),<span style=color:#a6e22e>t</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_ndcToScreenLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_map</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_map</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_map</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>))},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_screenToNDCLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_map</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_map</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_map</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>))},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_screenLocation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,.<span style=color:#ae81ff>5</span>),<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pvMatrix</span>({<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>})}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>i</span>.<span style=color:#a6e22e>_mult4</span>([<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#ae81ff>1</span>]);<span style=color:#66d9ef>if</span>(<span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>3</span>])<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;screenLocation broken. Check your pvMatrix!&#34;</span>);<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>,<span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>];<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>/=</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>/=</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>/=</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span>.<span style=color:#ae81ff>5</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>+</span>.<span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span>.<span style=color:#ae81ff>5</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>.<span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>=</span>.<span style=color:#ae81ff>5</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span>.<span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>1</span>],<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>1</span>],<span style=color:#a6e22e>n</span>[<span style=color:#ae81ff>2</span>])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_location</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>vector</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,.<span style=color:#ae81ff>5</span>),<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>pvInvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pvInvMatrix</span>({<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>})}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>,<span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>],<span style=color:#a6e22e>a</span><span style=color:#f92672>=</span>[<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>,<span style=color:#ae81ff>1</span>];<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span>(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>-</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>0</span>])<span style=color:#f92672>/</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>2</span>],<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span>(<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>-</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>1</span>])<span style=color:#f92672>/</span><span style=color:#a6e22e>o</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span><span style=color:#f92672>=</span><span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>_mult4</span>(<span style=color:#a6e22e>a</span>);<span style=color:#66d9ef>if</span>(<span style=color:#ae81ff>0</span><span style=color:#f92672>!=</span><span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>3</span>])<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>/=</span><span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>/=</span><span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>/=</span><span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>3</span>],<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>1</span>],<span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>2</span>]);<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;location broken. Check your pvInvMatrix!&#34;</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>treeDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>treeDisplacement</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>treeDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span><span style=color:#f92672>!</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>===</span><span style=color:#a6e22e>arguments</span>.<span style=color:#a6e22e>length</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>]<span style=color:#66d9ef>instanceof</span> Object)<span style=color:#f92672>||</span><span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>]<span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span><span style=color:#f92672>||</span>Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>])<span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>(...<span style=color:#a6e22e>arguments</span>)<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>(<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_k</span>,<span style=color:#a6e22e>arguments</span>[<span style=color:#ae81ff>0</span>])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_treeDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>_treeDisplacement</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_treeDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_k</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>)),<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>MODEL</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>({<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>})),<span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>MODEL</span><span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>({<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>})),<span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_worldToScreenDisplacement</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>o</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToWorldDisplacement</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>o</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToNDCDisplacement</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ndcToScreenDisplacement</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToNDCDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_worldToScreenDisplacement</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>o</span>))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToWorldDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ndcToScreenDisplacement</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>o</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()}).<span style=color:#a6e22e>mult3</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToWorldDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ndcToScreenDisplacement</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>o</span>))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NDC</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToNDCDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_worldToScreenDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>o</span>))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>}).<span style=color:#a6e22e>mult3</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToWorldDisplacement</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>o</span>))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_worldToScreenDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>e</span>)}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>o</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_worldToScreenDisplacement</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>o</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>()}).<span style=color:#a6e22e>mult3</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_screenToWorldDisplacement</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>o</span>))<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()).<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>r</span>)}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>e</span>).<span style=color:#a6e22e>apply</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>eMatrix</span>())}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>e</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>dMatrix</span>({<span style=color:#a6e22e>matrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>copy</span>().<span style=color:#a6e22e>invert</span>(<span style=color:#a6e22e>e</span>)}).<span style=color:#a6e22e>mult3</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>:</span>(<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;couldn&#39;t parse your treeDisplacement query!&#34;</span>),<span style=color:#a6e22e>t</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_worldToScreenDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>(<span style=color:#a6e22e>t</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>}),<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>];<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>o</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeLocation</span>(<span style=color:#a6e22e>t</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>}).<span style=color:#a6e22e>z</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>tan</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>fov</span>(<span style=color:#a6e22e>e</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>));<span style=color:#a6e22e>i</span><span style=color:#f92672>/=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#a6e22e>n</span><span style=color:#f92672>/=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>}<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>z</span>;<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>/=</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>nPlane</span>()<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>fPlane</span>())<span style=color:#f92672>/</span>(<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span>Math.<span style=color:#a6e22e>tan</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>fov</span>(<span style=color:#a6e22e>e</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>)<span style=color:#f92672>:</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>rPlane</span>()<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>lPlane</span>())<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>),<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>a</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_screenToWorldDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uPMatrix</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>mat4</span>[<span style=color:#ae81ff>15</span>];<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>n</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>,<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeLocation</span>(<span style=color:#a6e22e>t</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>}).<span style=color:#a6e22e>z</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>tan</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>fov</span>(<span style=color:#a6e22e>e</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>));<span style=color:#a6e22e>r</span><span style=color:#f92672>*=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>*=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>n</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>}<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>;<span style=color:#a6e22e>o</span><span style=color:#f92672>*=</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>nPlane</span>()<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>fPlane</span>())<span style=color:#f92672>/</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>?</span>Math.<span style=color:#a6e22e>tan</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>fov</span>(<span style=color:#a6e22e>e</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>)<span style=color:#f92672>:</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>rPlane</span>()<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>lPlane</span>())<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>);<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>o</span>);<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>(<span style=color:#a6e22e>a</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>})},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_ndcToScreenDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_screenToNDCDisplacement</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>,<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>,<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>readShader</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,{<span style=color:#a6e22e>precision</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Shader</span>;<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_coupledWith</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>substring</span>(<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>lastIndexOf</span>(<span style=color:#e6db74>&#34;/&#34;</span>)<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>),<span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>_vertSrc</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>parseVertexShader</span>({<span style=color:#a6e22e>precision</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>_specs</span><span style=color:#f92672>:!</span><span style=color:#ae81ff>1</span>}),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_coupledWith</span><span style=color:#f92672>=</span><span style=color:#66d9ef>void</span> <span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>loadStrings</span>(<span style=color:#a6e22e>t</span>,(<span style=color:#a6e22e>t</span>=&gt;{<span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>_fragSrc</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#34;\n&#34;</span>)})),<span style=color:#a6e22e>n</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>makeShader</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,{<span style=color:#a6e22e>precision</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Shader</span>;<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_coupledWith</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;the fragment shader provided as param in makeShader()&#34;</span>,<span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>_vertSrc</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>parseVertexShader</span>({<span style=color:#a6e22e>precision</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>_specs</span><span style=color:#f92672>:!</span><span style=color:#ae81ff>1</span>}),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_coupledWith</span><span style=color:#f92672>=</span><span style=color:#66d9ef>void</span> <span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>_fragSrc</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>n</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>parseVertexShader</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>precision</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>mediump</span>,<span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span>,<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span>,<span style=color:#a6e22e>_specs</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>0</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#e6db74>`precision </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>t</span><span style=color:#f92672>===</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>highp</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;highp&#34;</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>===</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>mediump</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;mediump&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;lowp&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74> float;`</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>color4</span>),<span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span>),<span style=color:#a6e22e>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>normal3</span>),<span style=color:#a6e22e>p</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>position2</span>),<span style=color:#a6e22e>h</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>position3</span>),<span style=color:#a6e22e>c</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>r</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>position4</span>),<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>pmvMatrix</span>),<span style=color:#a6e22e>u</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>pMatrix</span>),<span style=color:#a6e22e>l</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>mvMatrix</span>)<span style=color:#f92672>||</span><span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#e6db74>`\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>n</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\nattribute vec3 aPosition;\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;attribute vec4 aVertexColor;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>a</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;attribute vec2 aTexCoord;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>s</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;attribute vec3 aNormal;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>x</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;uniform mat4 uModelViewProjectionMatrix;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>u</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;uniform mat4 uProjectionMatrix;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>l</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;uniform mat4 uModelViewMatrix;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>nMatrix</span>)<span style=color:#f92672>||</span><span style=color:#a6e22e>s</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;uniform mat3 uNormalMatrix;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;varying vec4 color4;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>a</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;varying vec2 texcoords2;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>s</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;varying vec3 normal3;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>p</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;varying vec2 position2;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>h</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;varying vec3 position3;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>c</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;varying vec4 position4;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\nvoid main() {\n  </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;color4 = aVertexColor;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n  </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>a</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;texcoords2 = aTexCoord;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n  </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>s</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;normal3 = normalize(uNormalMatrix * aNormal);&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n  </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>p</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;position2 = vec4(aPosition, 1.0).xy;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n  </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>h</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;position3 = vec4(aPosition, 1.0).xyz;&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n  </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>c</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;position4 = uModelViewMatrix * vec4(aPosition, 1.0);&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n  gl_Position =</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>x</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34; uModelViewProjectionMatrix * &#34;</span><span style=color:#f92672>:</span>(<span style=color:#a6e22e>u</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>l</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34; uProjectionMatrix * uModelViewMatrix *&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span>)<span style=color:#f92672>+</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>vec4(aPosition, 1.0);\n}\n`</span>,<span style=color:#a6e22e>m</span><span style=color:#f92672>=</span><span style=color:#e6db74>`\n/*\n</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_coupledWith</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;Vertex shader code to be coupled with &#34;</span><span style=color:#f92672>+</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_coupledWith</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74> \nGenerated with treegl version </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>INFO</span>.<span style=color:#a6e22e>VERSION</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#f92672>?</span><span style=color:#e6db74>&#34;\nFeel free to copy, paste, edit and save it.\nRefer to createShader (https://p5js.org/reference/#/p5/createShader),\nloadShader (https://p5js.org/reference/#/p5/loadShader), readShader\nand makeShader (https://github.com/VisualComputing/p5.treegl#handling),\nfor details.&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#e6db74>}</span><span style=color:#e6db74>\n*/\n`</span><span style=color:#f92672>+</span><span style=color:#a6e22e>M</span>;<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>=</span><span style=color:#a6e22e>m</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>/\r?\n/</span>).<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>t</span>=&gt;<span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>!==</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>trim</span>())).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#34;\n&#34;</span>),<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>m</span>),<span style=color:#a6e22e>m</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>emitMousePosition</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;u_mouse&#34;</span>){<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#a6e22e>e</span>,[<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mouseX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>pixelDensity</span>(),(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mouseY</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>pixelDensity</span>()])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>emitPointerPosition</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>emitPointerPosition</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>emitPointerPosition</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;u_pointer&#34;</span>){<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#a6e22e>i</span>,[<span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>pixelDensity</span>(),(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>pixelDensity</span>()])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>emitResolution</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>emitResolution</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>emitResolution</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;u_resolution&#34;</span>){<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#a6e22e>e</span>,[<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>*</span><span style=color:#a6e22e>pixelDensity</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>*</span><span style=color:#a6e22e>pixelDensity</span>()])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>emitTexOffset</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;u_texoffset&#34;</span>){<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#a6e22e>r</span>,[<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>width</span>,<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>height</span>])},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pixelRatio</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>pixelRatio</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pixelRatio</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>isOrtho</span>()<span style=color:#f92672>?</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>tPlane</span>()<span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bPlane</span>())<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>:</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeLocation</span>(<span style=color:#a6e22e>t</span>,{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_curCamera</span>.<span style=color:#a6e22e>cameraMatrix</span>}).<span style=color:#a6e22e>z</span>)<span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>tan</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>fov</span>()<span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>)<span style=color:#f92672>/</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>visibility</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>visibility</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>visibility</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>corner1</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>corner2</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>center</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>radius</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>bounds</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bounds</span>()}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>?</span><span style=color:#a6e22e>i</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_ballVisibility</span>(<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>n</span>)<span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_pointVisibility</span>(<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>n</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>e</span><span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_boxVisibility</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>n</span>)<span style=color:#f92672>:</span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;couldn&#39;t parse your visibility query!&#34;</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_pointVisibility</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bounds</span>()){<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>r</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>e</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>distanceToBound</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>e</span>);<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span>)<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>INVISIBLE</span>;<span style=color:#66d9ef>if</span>(<span style=color:#ae81ff>0</span><span style=color:#f92672>===</span><span style=color:#a6e22e>i</span>)<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SEMIVISIBLE</span>}<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>VISIBLE</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_ballVisibility</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bounds</span>()){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>0</span>;<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>r</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>distanceToBound</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>r</span>);<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>o</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>e</span>)<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>INVISIBLE</span>;(<span style=color:#a6e22e>o</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span><span style=color:#f92672>||-</span><span style=color:#a6e22e>o</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>e</span>)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>1</span>)}<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>?</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>VISIBLE</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SEMIVISIBLE</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_boxVisibility</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bounds</span>()){Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>)),Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>e</span>)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>e</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>e</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>e</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>));<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>0</span>;<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>r</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>0</span>;<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>a</span><span style=color:#f92672>&lt;</span><span style=color:#ae81ff>8</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>a</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>s</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#ae81ff>0</span><span style=color:#f92672>!=</span>(<span style=color:#ae81ff>4</span><span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>)<span style=color:#f92672>?</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>x</span>,<span style=color:#ae81ff>0</span><span style=color:#f92672>!=</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>)<span style=color:#f92672>?</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>y</span>,<span style=color:#ae81ff>0</span><span style=color:#f92672>!=</span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>)<span style=color:#f92672>?</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>z</span>);<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>distanceToBound</span>(<span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>r</span>)<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span><span style=color:#f92672>?</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>1</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>1</span>}<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>o</span>)<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>INVISIBLE</span>}<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>?</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>VISIBLE</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SEMIVISIBLE</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bounds</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>bounds</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bounds</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nPlane</span>(),<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>fPlane</span>(),<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>lPlane</span>(),<span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>rPlane</span>(),<span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bPlane</span>(),<span style=color:#a6e22e>s</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>tPlane</span>();<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p</span><span style=color:#f92672>=</span>Array(<span style=color:#ae81ff>6</span>),<span style=color:#a6e22e>h</span><span style=color:#f92672>=</span>Array(<span style=color:#ae81ff>6</span>);<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>c</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeLocation</span>([<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>],{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>}),<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>([<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>}),<span style=color:#a6e22e>u</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>([<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>],{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>}),<span style=color:#a6e22e>l</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_treeDisplacement</span>([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>],{<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>EYE</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>}),<span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>x</span>);<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>isOrtho</span>())<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>l</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>u</span>,<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>u</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>sub</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>l</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>n</span>)),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>]),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>o</span>)),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>]),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>u</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>a</span>)),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>]),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>sub</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>u</span>,<span style=color:#a6e22e>s</span>)),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>5</span>]);<span style=color:#66d9ef>else</span>{<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>r</span>),<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>t</span>),<span style=color:#a6e22e>m</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>r</span>),<span style=color:#a6e22e>d</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>m</span>),<span style=color:#a6e22e>f</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>m</span>);<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>d</span>),<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>l</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>f</span>)),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>x</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>),<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>i</span>));<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>r</span>),<span style=color:#a6e22e>v</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>y</span>),<span style=color:#a6e22e>T</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>y</span>),<span style=color:#a6e22e>_</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>r</span>),<span style=color:#a6e22e>E</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>_</span>),<span style=color:#a6e22e>L</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>_</span>);<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>x</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>v</span>),<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>u</span>,<span style=color:#a6e22e>T</span>)),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>E</span>),<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>u</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>L</span>)),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>d</span><span style=color:#f92672>*</span><span style=color:#a6e22e>M</span><span style=color:#f92672>-</span><span style=color:#a6e22e>f</span><span style=color:#f92672>*</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>l</span>),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>=-</span><span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>M</span><span style=color:#f92672>+</span><span style=color:#a6e22e>i</span><span style=color:#f92672>*</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>l</span>),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>=-</span><span style=color:#a6e22e>v</span><span style=color:#f92672>*</span><span style=color:#a6e22e>M</span><span style=color:#f92672>+</span><span style=color:#a6e22e>T</span><span style=color:#f92672>*</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>u</span>),<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>5</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>E</span><span style=color:#f92672>*</span><span style=color:#a6e22e>M</span><span style=color:#f92672>-</span><span style=color:#a6e22e>L</span><span style=color:#f92672>*</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>u</span>)}<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>x</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),<span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>=-</span><span style=color:#a6e22e>M</span><span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>=</span><span style=color:#a6e22e>M</span><span style=color:#f92672>+</span><span style=color:#a6e22e>i</span>;<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>m</span><span style=color:#f92672>=</span>{};<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>LEFT</span>]<span style=color:#f92672>=</span>{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>0</span>]},<span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>RIGHT</span>]<span style=color:#f92672>=</span>{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>1</span>]},<span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NEAR</span>]<span style=color:#f92672>=</span>{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>2</span>].<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>2</span>].<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>2</span>].<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>2</span>]},<span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>FAR</span>]<span style=color:#f92672>=</span>{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>3</span>]},<span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>TOP</span>]<span style=color:#f92672>=</span>{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>4</span>]},<span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>BOTTOM</span>]<span style=color:#f92672>=</span>{<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>5</span>].<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>5</span>].<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>[<span style=color:#ae81ff>5</span>].<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>[<span style=color:#ae81ff>5</span>]},<span style=color:#a6e22e>m</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>distanceToBound</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>distanceToBound</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>distanceToBound</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bounds</span>()){<span style=color:#66d9ef>return</span> Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>t</span>)<span style=color:#f92672>&amp;&amp;</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>[<span style=color:#ae81ff>2</span>]<span style=color:#f92672>??</span><span style=color:#ae81ff>0</span>)),<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>dot</span>(<span style=color:#a6e22e>t</span>,<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>(<span style=color:#a6e22e>r</span>[<span style=color:#a6e22e>e</span>].<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>r</span>[<span style=color:#a6e22e>e</span>].<span style=color:#a6e22e>b</span>,<span style=color:#a6e22e>r</span>[<span style=color:#a6e22e>e</span>].<span style=color:#a6e22e>c</span>))<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>[<span style=color:#a6e22e>e</span>].<span style=color:#a6e22e>d</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>mousePicking</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>(),<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>,<span style=color:#a6e22e>shape</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>CIRCLE</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pointerPicking</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mouseX</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mouseY</span>,{<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>shape</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>})},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pointerPicking</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>pointerPicking</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>pointerPicking</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span>,{<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>(),<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>,<span style=color:#a6e22e>shape</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>CIRCLE</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>c</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>i</span><span style=color:#f92672>||!</span><span style=color:#a6e22e>n</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>treeLocation</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>c</span>});<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>/=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pixelRatio</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>treeLocation</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>}))}<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#a6e22e>o</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>;<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>===</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>CIRCLE</span><span style=color:#f92672>?</span>Math.<span style=color:#a6e22e>sqrt</span>(Math.<span style=color:#a6e22e>pow</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>2</span>)<span style=color:#f92672>+</span>Math.<span style=color:#a6e22e>pow</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#ae81ff>2</span>))<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>x</span><span style=color:#f92672>:</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>-</span><span style=color:#a6e22e>i</span>)<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>x</span><span style=color:#f92672>&amp;&amp;</span>Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>n</span>)<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>x</span>},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>axes</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>axes</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>axes</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>,<span style=color:#a6e22e>bits</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>LABELS</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>X</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>Y</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>Z</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>(),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>LABELS</span>)){<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>/</span><span style=color:#ae81ff>40</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>/</span><span style=color:#ae81ff>30</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.04</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>200</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>e</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>200</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>r</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>r</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>i</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>100</span>,<span style=color:#ae81ff>200</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>e</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>i</span>)}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>200</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>X</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_X</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>200</span>,<span style=color:#ae81ff>0</span>),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>Y</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>0</span>),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_Y</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>100</span>,<span style=color:#ae81ff>200</span>),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>Z</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_Z</span>)<span style=color:#f92672>&amp;&amp;</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>grid</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>grid</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>grid</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>,<span style=color:#a6e22e>subdivisions</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>,<span style=color:#a6e22e>style</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>DOTS</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>(),<span style=color:#a6e22e>r</span><span style=color:#f92672>===</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>DOTS</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>curStrokeWeight</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(<span style=color:#ae81ff>0</span>);<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>r</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>e</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>r</span>){<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>r</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>e</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>r</span>)<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>n</span>,<span style=color:#ae81ff>0</span>)}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>();<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>o</span>;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>strokeWeight</span>(<span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(<span style=color:#ae81ff>0</span>);<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>e</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>a</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>e</span>){<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>e</span><span style=color:#f92672>/</span><span style=color:#a6e22e>a</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>r</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>a</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>r</span>)<span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#a6e22e>a</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),<span style=color:#a6e22e>e</span><span style=color:#f92672>%</span><span style=color:#a6e22e>o</span><span style=color:#f92672>==</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>r</span><span style=color:#f92672>%</span><span style=color:#a6e22e>o</span><span style=color:#f92672>==</span><span style=color:#ae81ff>0</span><span style=color:#f92672>||</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>n</span>,<span style=color:#ae81ff>0</span>)}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>()}<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>r</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>e</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>r</span>){<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>/</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>i</span>,<span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#ae81ff>0</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>0</span>)}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>cross</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>cross</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>cross</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>(),<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>e</span><span style=color:#f92672>||!</span><span style=color:#a6e22e>r</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>p</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>treeLocation</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>});<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>/=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pixelRatio</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>treeLocation</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span>}))}<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>p</span><span style=color:#f92672>=</span><span style=color:#a6e22e>i</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginHUD</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>r</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>p</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endHUD</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bullsEye</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>bullsEye</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bullsEye</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>mMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mMatrix</span>(),<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>,<span style=color:#a6e22e>shape</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>CIRCLE</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>e</span><span style=color:#f92672>||!</span><span style=color:#a6e22e>r</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>treeLocation</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>SCREEN</span>,<span style=color:#a6e22e>pMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>pvMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>p</span>});<span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>n</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>/=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pixelRatio</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>treeLocation</span>({<span style=color:#a6e22e>from</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>to</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>WORLD</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>o</span>}))}<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>(),<span style=color:#a6e22e>n</span><span style=color:#f92672>===</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>CIRCLE</span>)<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginHUD</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_circle</span>({<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>radius</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>}),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endHUD</span>();<span style=color:#66d9ef>else</span>{<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#a6e22e>i</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginHUD</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span><span style=color:#f92672>+</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span><span style=color:#f92672>+</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span><span style=color:#f92672>-</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span><span style=color:#f92672>+</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span><span style=color:#f92672>-</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span><span style=color:#f92672>-</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span><span style=color:#f92672>+</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span><span style=color:#f92672>-</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endHUD</span>()}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>cross</span>({<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>,<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span>.<span style=color:#ae81ff>6</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>}),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_circle</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>_circle</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>_circle</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>filled</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span><span style=color:#f92672>=!</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>radius</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>,<span style=color:#a6e22e>detail</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>(),<span style=color:#a6e22e>t</span>){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(<span style=color:#ae81ff>5</span>);<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>t</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>n</span>;<span style=color:#a6e22e>t</span><span style=color:#f92672>++</span>){<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>PI</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>n</span>),<span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>t</span><span style=color:#f92672>*</span>(<span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>PI</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>n</span>);<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,.<span style=color:#ae81ff>5</span>,.<span style=color:#ae81ff>5</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>*</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span>,<span style=color:#ae81ff>0</span>,.<span style=color:#ae81ff>5</span><span style=color:#f92672>*</span><span style=color:#a6e22e>e</span><span style=color:#f92672>+</span>.<span style=color:#ae81ff>5</span>,.<span style=color:#ae81ff>5</span><span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>+</span>.<span style=color:#ae81ff>5</span>)}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>()}<span style=color:#66d9ef>else</span>{<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>r</span>);<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>t</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>Math.<span style=color:#a6e22e>PI</span><span style=color:#f92672>/</span><span style=color:#a6e22e>n</span>;<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>};<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>e</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;<span style=color:#a6e22e>e</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>n</span>;<span style=color:#a6e22e>e</span><span style=color:#f92672>++</span>){<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span>Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span>Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>t</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>};<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>o</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>o</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>y</span>),<span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>}}<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>viewFrustum</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>(){<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>.<span style=color:#a6e22e>viewFrustum</span>(...<span style=color:#a6e22e>arguments</span>)},<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>RendererGL</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>viewFrustum</span><span style=color:#f92672>=</span><span style=color:#66d9ef>function</span>({<span style=color:#a6e22e>vMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>t</span>,<span style=color:#a6e22e>eMatrix</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>,<span style=color:#a6e22e>fbo</span><span style=color:#f92672>:</span><span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#a6e22e>_renderer</span>,<span style=color:#a6e22e>bits</span><span style=color:#f92672>:</span><span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NEAR</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>FAR</span>,<span style=color:#a6e22e>viewer</span><span style=color:#f92672>:</span><span style=color:#a6e22e>n</span><span style=color:#f92672>=</span>(()=&gt;<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>axes</span>({<span style=color:#a6e22e>size</span><span style=color:#f92672>:</span><span style=color:#ae81ff>50</span>,<span style=color:#a6e22e>bits</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>X</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_X</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>Y</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_Y</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>Z</span><span style=color:#f92672>|</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>_Z</span>}))}<span style=color:#f92672>=</span>{}){<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span><span style=color:#f92672>===</span><span style=color:#a6e22e>r</span>)<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;displaying viewFrustum requires an fbo different than this&#34;</span>);<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span><span style=color:#f92672>=</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>push</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>uMVMatrix</span><span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Matrix</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>applyMatrix</span>(...(<span style=color:#a6e22e>t</span><span style=color:#f92672>??</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vMatrix</span>()).<span style=color:#a6e22e>mat4</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>applyMatrix</span>(...(<span style=color:#a6e22e>e</span><span style=color:#f92672>??</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>eMatrix</span>()).<span style=color:#a6e22e>mat4</span>),<span style=color:#a6e22e>n</span><span style=color:#f92672>!==</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#a6e22e>n</span>();<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>o</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>isOrtho</span>(),<span style=color:#a6e22e>a</span><span style=color:#f92672>=-</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>nPlane</span>(),<span style=color:#a6e22e>s</span><span style=color:#f92672>=-</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>fPlane</span>(),<span style=color:#a6e22e>p</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>lPlane</span>(),<span style=color:#a6e22e>h</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>rPlane</span>(),<span style=color:#a6e22e>c</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>isOrtho</span>()<span style=color:#f92672>?-</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>tPlane</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>tPlane</span>(),<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>isOrtho</span>()<span style=color:#f92672>?-</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>bPlane</span>()<span style=color:#f92672>:</span><span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>bPlane</span>(),<span style=color:#a6e22e>u</span><span style=color:#f92672>=</span><span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#ae81ff>1</span><span style=color:#f92672>:</span><span style=color:#a6e22e>s</span><span style=color:#f92672>/</span><span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>l</span><span style=color:#f92672>=</span><span style=color:#a6e22e>u</span><span style=color:#f92672>*</span><span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>u</span><span style=color:#f92672>*</span><span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>m</span><span style=color:#f92672>=</span><span style=color:#a6e22e>u</span><span style=color:#f92672>*</span><span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>d</span><span style=color:#f92672>=</span><span style=color:#a6e22e>u</span><span style=color:#f92672>*</span><span style=color:#a6e22e>c</span>;<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>FAR</span>)<span style=color:#f92672>?</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>())<span style=color:#f92672>:</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>,<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>)),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>BODY</span>)<span style=color:#f92672>?</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>(),<span style=color:#a6e22e>o</span><span style=color:#f92672>||</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>)))<span style=color:#f92672>:</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>h</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>p</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>c</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>d</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>p</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>l</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>h</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>o</span><span style=color:#f92672>?</span><span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>M</span>,<span style=color:#a6e22e>m</span>,<span style=color:#a6e22e>s</span>)),<span style=color:#ae81ff>0</span><span style=color:#f92672>==~</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>|~</span><span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NEAR</span>)<span style=color:#f92672>?</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>beginShape</span>(),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>endShape</span>())<span style=color:#f92672>:</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>h</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>p</span>,<span style=color:#a6e22e>c</span>,<span style=color:#a6e22e>a</span>)),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pop</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_rendererState</span>)};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lumaShader</span>, <span style=color:#a6e22e>src</span>, <span style=color:#a6e22e>img_src</span>, <span style=color:#a6e22e>video_src</span>, <span style=color:#a6e22e>video_on</span>, <span style=color:#a6e22e>lightness</span>, <span style=color:#a6e22e>uv</span>, <span style=color:#a6e22e>hsv</span>, <span style=color:#a6e22e>hsl</span>, <span style=color:#a6e22e>cAvrg</span>, <span style=color:#a6e22e>textureTintingText</span>, <span style=color:#a6e22e>texturingT</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span><span style=color:#a6e22e>lumaShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/texturing2.frag&#39;</span>,
</span></span><span style=display:flex><span>{ <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span><span style=color:#75715e>// video source: https://t.ly/LWUs2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>video_src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#39;/showcase/sketches/sketches/wagon.webm&#39;</span>]);
</span></span><span style=display:flex><span><span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>hide</span>(); <span style=color:#75715e>// by default video shows up in separate dom
</span></span></span><span style=display:flex><span><span style=color:#75715e>// image source: https://t.ly/Dz8W
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>img_src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/sketches/fire_breathing.jpg&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img_src</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span><span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>428</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>video_on</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;video&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>changed</span>(() =&gt; {
</span></span><span style=display:flex><span><span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>checked</span>() <span style=color:#f92672>?</span> <span style=color:#a6e22e>video_src</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>img_src</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>checked</span>() <span style=color:#f92672>?</span> <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>loop</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span><span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>lightness</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;luma&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>lightness</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>lightness</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>lightness</span>.<span style=color:#a6e22e>input</span>(() =&gt; <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;lightness&#39;</span>, <span style=color:#a6e22e>lightness</span>.<span style=color:#a6e22e>checked</span>()));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;uv visualization&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>changed</span>(() =&gt; <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;uv&#39;</span>, <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>checked</span>()));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;hsv value v&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>70</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>changed</span>(() =&gt; <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;hsv&#39;</span>, <span style=color:#a6e22e>hsv</span>.<span style=color:#a6e22e>checked</span>()));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;hsl lightness l&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsl</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>90</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsl</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsl</span>.<span style=color:#a6e22e>changed</span>(() =&gt; <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;hsl&#39;</span>, <span style=color:#a6e22e>hsl</span>.<span style=color:#a6e22e>checked</span>()));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cAvrg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;component average&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cAvrg</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>110</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cAvrg</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cAvrg</span>.<span style=color:#a6e22e>changed</span>(() =&gt; <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;cAvrg&#39;</span>, <span style=color:#a6e22e>cAvrg</span>.<span style=color:#a6e22e>checked</span>()));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>texturingT</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>texturingT</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>160</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>texturingT</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textureTintingText</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createP</span>(<span style=color:#e6db74>`texture tinting value: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>texturingT</span>.<span style=color:#a6e22e>value</span>()<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textureTintingText</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>125</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textureTintingText</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>lumaShader</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span><span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texturingT&#39;</span>, <span style=color:#a6e22e>texturingT</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>textureTintingText</span>.<span style=color:#a6e22e>html</span>(<span style=color:#e6db74>`texture tinting value: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>texturingT</span>.<span style=color:#a6e22e>value</span>()<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>src</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span><span style=color:#75715e>// format is: vertex(x, y, z, u, v)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><details><summary>texturing.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// uniforms are defined and sent by the sketch</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> texture;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec3</span> tintColor; <span style=color:#75715e>// new uniform for tint color</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> texturingT;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> lightness; <span style=color:#75715e>// lightness visualization</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> uv; <span style=color:#75715e>// uv visualization</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> hsv; <span style=color:#75715e>// hsv visualization</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> hsl; <span style=color:#75715e>// hsl visualization</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> cAvrg; <span style=color:#75715e>// component average visualization</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> textureTinting; <span style=color:#75715e>// texture tinting visualization</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// interpolated texcoord (same name and type as in vertex shader)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec2</span> texcoords2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// returns luma of given texel</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> luma(<span style=color:#66d9ef>vec4</span> texel) {
</span></span><span style=display:flex><span><span style=color:#75715e>// alpha channel (texel.a) is just discarded</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0.299</span> <span style=color:#f92672>*</span> texel.r <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.587</span> <span style=color:#f92672>*</span> texel.g <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.114</span> <span style=color:#f92672>*</span> texel.b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> RGB2HSV(<span style=color:#66d9ef>vec4</span> texel) {
</span></span><span style=display:flex><span><span style=color:#75715e>// Is used max(R, G, B) to determine the value (V) of the HSV color</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> maxVal <span style=color:#f92672>=</span> max(max(texel.r, texel.g), texel.b);
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> hsv;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    hsv.x <span style=color:#f92672>=</span> maxVal;
</span></span><span style=display:flex><span>    hsv.y <span style=color:#f92672>=</span> maxVal;
</span></span><span style=display:flex><span>    hsv.z <span style=color:#f92672>=</span> maxVal;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> hsv;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> RGB2HSL(<span style=color:#66d9ef>vec4</span> texel) {
</span></span><span style=display:flex><span><span style=color:#75715e>// Is used mid(R, G, B) = (1 / 2) (max(R, G, B) + min(R, G, B)) to determine the lightness (L) of the HSL color</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> maxVal <span style=color:#f92672>=</span> max(max(texel.r, texel.g), texel.b);
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> minVal <span style=color:#f92672>=</span> min(min(texel.r, texel.g), texel.b);
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> midVal <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>*</span> (maxVal <span style=color:#f92672>+</span> minVal);
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> hsl;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    hsl.x <span style=color:#f92672>=</span> midVal;
</span></span><span style=display:flex><span>    hsl.y <span style=color:#f92672>=</span> midVal;
</span></span><span style=display:flex><span>    hsl.z <span style=color:#f92672>=</span> midVal;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> hsl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> componentAverage(<span style=color:#66d9ef>vec4</span> texel) {
</span></span><span style=display:flex><span><span style=color:#75715e>// Is used (R + G + B) / 3 to determine the average of the RGB components</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> avg <span style=color:#f92672>=</span> (texel.r <span style=color:#f92672>+</span> texel.g <span style=color:#f92672>+</span> texel.b) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3.0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> avgVec;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    avgVec.x <span style=color:#f92672>=</span> avg;
</span></span><span style=display:flex><span>    avgVec.y <span style=color:#f92672>=</span> avg;
</span></span><span style=display:flex><span>    avgVec.z <span style=color:#f92672>=</span> avg;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> avgVec;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span><span style=color:#75715e>// texture2D(texture, texcoords2) samples texture at texcoords2</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// and returns the normalized texel color</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec4</span> texel <span style=color:#f92672>=</span> texture2D(texture, texcoords2);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// tint the texel color with the tint color</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec3</span> tintedColor <span style=color:#f92672>=</span> texel.rgb <span style=color:#f92672>*</span> tintColor;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// mix the tinted color and the original texel color</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec3</span> mixedColor <span style=color:#f92672>=</span> mix(texel.rgb, tintedColor, texturingT);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    uv <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>(texcoords2.xy, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    lightness <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>(<span style=color:#66d9ef>vec3</span>(luma(texel)), <span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    hsv <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>(<span style=color:#66d9ef>vec3</span>(RGB2HSV(texel)), <span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    hsl <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>(<span style=color:#66d9ef>vec3</span>(RGB2HSL(texel)), <span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    cAvrg <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>(<span style=color:#66d9ef>vec3</span>(componentAverage(texel)), <span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec4</span>(mixedColor, texel.a); <span style=color:#75715e>// set output color to mixed color</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><iframe id=postEffect style=width:724px;height:524px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
            
            
            
            
            <script src=/showcase/sketches/postEffect.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=description>Description
<a class=anchor href=#description>#</a></h2><h3 id=previous-work>Previous work
<a class=anchor href=#previous-work>#</a></h3><h3 id=future-work>Future work
<a class=anchor href=#future-work>#</a></h3><h2 id=usages>Usages
<a class=anchor href=#usages>#</a></h2></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/jumorap/showcase/commit/e5332071d3357d2877d48b7ab2bb817f20b7a9e5 title='Last modified by jumorap | May 22, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 22, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#mach-bands>Mach Bands</a><ul><li><a href=#solution>Solution</a></li><li><a href=#description>Description</a><ul><li><a href=#previous-work>Previous work</a></li><li><a href=#future-work>Future work</a></li></ul></li><li><a href=#usages>Usages</a></li></ul></li></ul></nav></div></aside></main></body></html>