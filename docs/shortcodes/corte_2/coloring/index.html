<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Coloring # Exercises
Figure it out the js code for color blending sketches. Implement other blending modes. Take this reference as starting point. Little background # Color blending refers to the process of combining two or more colors together to create new colors or achieve a desired visual effect. It is commonly used in various art forms, design applications, and digital image editing. By blending colors, you can create smooth transitions, gradients, or harmonious color schemes."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Coloring # Exercises
Figure it out the js code for color blending sketches. Implement other blending modes. Take this reference as starting point. Little background # Color blending refers to the process of combining two or more colors together to create new colors or achieve a desired visual effect. It is commonly used in various art forms, design applications, and digital image editing. By blending colors, you can create smooth transitions, gradients, or harmonious color schemes."><meta property="og:type" content="article"><meta property="og:url" content="https://jumorap.github.io/showcase/docs/shortcodes/corte_2/coloring/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-05-22T22:03:44-05:00"><title>Coloring | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-98eb846fa59edb294aae7910c3c642ec class=toggle>
<label for=section-98eb846fa59edb294aae7910c3c642ec class="flex justify-between"><a role=button>Corte 1</a></label><ul><li><a href=/showcase/docs/shortcodes/corte_1/color/>Color</a></li><li><a href=/showcase/docs/shortcodes/corte_1/depthPerception/>Depth Perception</a></li><li><a href=/showcase/docs/shortcodes/corte_1/machBands/>Mach Bands</a></li><li><a href=/showcase/docs/shortcodes/corte_1/masking/>Masking</a></li><li><a href=/showcase/docs/shortcodes/corte_1/SpatialCoherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/corte_1/video/>Video</a></li></ul></li><li><input type=checkbox id=section-b734f2044c27199f5b28b6ff9e224df3 class=toggle checked>
<label for=section-b734f2044c27199f5b28b6ff9e224df3 class="flex justify-between"><a role=button>Corte 2</a></label><ul><li><a href=/showcase/docs/shortcodes/corte_2/coloring/ class=active>Coloring</a></li><li><a href=/showcase/docs/shortcodes/corte_2/imageProcessing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/corte_2/postEffects/>Post Effects</a></li><li><a href=/showcase/docs/shortcodes/corte_2/texturing/>Texturing</a></li></ul></li><li><input type=checkbox id=section-054e72caecd528c85f6d2359bf2d2e8c class=toggle>
<label for=section-054e72caecd528c85f6d2359bf2d2e8c class="flex justify-between"><a role=button>Introducing Myself</a></label><ul><li><a href=/showcase/docs/shortcodes/introducingMyself/jleonro/>Jleonro</a></li><li><a href=/showcase/docs/shortcodes/introducingMyself/jumorap/>Jumorap</a></li><li><a href=/showcase/docs/shortcodes/introducingMyself/ycuervob/>Ycuervob</a></li></ul></li><li><input type=checkbox id=section-c1868768dbab1c4e29bff25ddfd9a301 class=toggle>
<label for=section-c1868768dbab1c4e29bff25ddfd9a301 class="flex justify-between"><a role=button>Tutoriales</a></label><ul><li><a href=/showcase/docs/shortcodes/tutoriales/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-047615443b93f7846685e44979fc65bd class=toggle>
<label for=section-047615443b93f7846685e44979fc65bd class="flex justify-between"><a href=/showcase/docs/shortcodes/tutoriales/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/tutoriales/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/tutoriales/p5/div/>Div</a></li></ul></li><li><a href=/showcase/docs/shortcodes/tutoriales/tabs/>Tabs</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Coloring</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#coloring>Coloring</a><ul><li><a href=#little-background>Little background</a></li><li><a href=#solution>Solution</a></li></ul></li><li><a href=#something-else>Something else</a></li></ul></nav></aside></header><article class=markdown><h1 id=coloring>Coloring
<a class=anchor href=#coloring>#</a></h1><blockquote class="book-hint info"><p><strong>Exercises</strong></p><ol><li>Figure it out the js code for color blending sketches.</li><li>Implement other blending modes. Take this <a href=https://p5js.org/reference/#/p5/blendMode>reference</a> as starting point.</li></ol></blockquote><h2 id=little-background>Little background
<a class=anchor href=#little-background>#</a></h2><p>Color blending refers to the process of combining two or more colors together to create new colors or achieve a desired visual effect. It is commonly used in various art forms, design applications, and digital image editing. By blending colors, you can create smooth transitions, gradients, or harmonious color schemes.</p><p>Here are the types of color blending:</p><ul><li><p>Normal: In the Normal blending mode, the color of the top layer is simply placed over the color of the underlying layer without any modification. Each pixel in the top layer replaces the corresponding pixel in the underlying layer, resulting in a straightforward stacking of colors.</p></li><li><p>Multiply: In the Multiply blending mode, the color values of the corresponding pixels in the top and underlying layers are multiplied together. This multiplication operation darkens the resulting color. The resulting pixel color is calculated by multiplying the color values (RGB or CMYK) of each channel in the top layer with the corresponding color values in the underlying layer.</p></li><li><p>Screen: The Screen blending mode is the opposite of Multiply. In this mode, the color values of the corresponding pixels in the top and underlying layers are inverted, multiplied, and inverted back. This multiplication operation produces a lighter color. The resulting pixel color is calculated by inverting the color values, multiplying them, and then inverting them back to their original range.</p></li><li><p>Overlay: The Overlay blending mode combines the effects of Multiply and Screen blending modes. It determines the resulting pixel color by checking the brightness of the corresponding pixel in the underlying layer. If the underlying pixel is darker than 50% gray, the Multiply operation is applied. If the underlying pixel is lighter than 50% gray, the Screen operation is applied. This blending mode enhances contrast and adds depth to the image.</p></li><li><p>Soft Light: In the Soft Light blending mode, the resulting pixel color is calculated by darkening or lightening the underlying color based on the brightness of the corresponding pixel in the top layer. If the top pixel is brighter than 50% gray, the underlying color is lightened. If the top pixel is darker than 50% gray, the underlying color is darkened. The amount of darkening or lightening is determined by the difference in brightness between the top and underlying pixels.</p></li><li><p>Hard Light: Similar to Soft Light, the Hard Light blending mode also adjusts the underlying color based on the brightness of the corresponding pixel in the top layer. However, in this mode, the adjustment is more pronounced, resulting in a stronger contrast and dramatic effect.</p></li><li><p>Difference: The Difference blending mode calculates the absolute difference between the color values of the corresponding pixels in the top and underlying layers. The resulting color is the absolute value of the difference, effectively creating an inverted or negative-like effect. It subtracts the color values of the underlying layer from the top * layer.</p></li><li><p>Hue: In the Hue blending mode, the resulting pixel color adopts the hue (color) of the top layer while preserving the luminosity and saturation of the underlying layer. The resulting pixel&rsquo;s hue is determined solely by the top layer, while the underlying layer contributes to the brightness and saturation.</p></li><li><p>Saturation: The Saturation blending mode retains the luminosity and hue of the underlying layer while adopting the saturation (intensity) of the top layer. The resulting pixel&rsquo;s saturation is determined solely by the top layer, while the underlying layer contributes to the brightness and hue.</p></li><li><p>Color: The Color blending mode keeps the brightness and saturation of the underlying layer and adopts the hue of the top layer. The resulting pixel&rsquo;s hue is determined solely by the top layer, while the underlying layer contributes to the brightness and saturation.</p></li></ul><p>In each blending mode, the color values of the corresponding pixels in the top and underlying layers are combined using specific mathematical operations or comparisons to determine the resulting pixel color. These operations or comparisons can be simple arithmetic calculations or complex algorithms depending on the blending mode and the specific color space being used (RGB, CMYK, etc.).</p><h2 id=solution>Solution
<a class=anchor href=#solution>#</a></h2><p>The following p5 script allow you to visualize several types of color blending techniques and let you select colors for the blending.</p><iframe id=blendcolor style=width:600px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
            
            
            
            
            <script src=/showcase/sketches/blendcolor.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>blendcolor.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorPicker</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorPicker2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dropdown</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>myshader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>screen</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>f</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>optionIndices</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Multiply&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Screen&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Overlay&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Soft Light&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Hard Light&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>4</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Difference&#34;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>myshader</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/blend2.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/blend3.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/blend4.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/blend5.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/blend6.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> }),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/blend7.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> })
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadFont</span>(<span style=color:#e6db74>&#34;https://cdnjs.cloudflare.com/ajax/libs/topcoat/0.8.0/font/SourceCodePro-Bold.otf&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>575</span>, <span style=color:#ae81ff>575</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textFont</span>(<span style=color:#a6e22e>f</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>myshader</span>[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Crea el elemento input de tipo range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>slider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#a6e22e>value</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>75</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;150px&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Asigna una función de devolución de llamada al deslizar la barra
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateValue</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Crea el input de color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>colorPicker</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorPicker</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;type&#39;</span>, <span style=color:#e6db74>&#39;color&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorPicker2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorPicker2</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;type&#39;</span>, <span style=color:#e6db74>&#39;color&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Crea el dropdown
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>dropdown</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Agrega opciones al dropdown
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Multiply&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Screen&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Overlay&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Soft Light&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Hard Light&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Difference&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Aplica estilos CSS personalizados al dropdown
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;border-radius&#39;</span>, <span style=color:#e6db74>&#39;5px&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;background-color&#39;</span>, <span style=color:#e6db74>&#39;#ADF3EC&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;padding&#39;</span>, <span style=color:#e6db74>&#39;5px&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Posiciona el dropdown
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>250</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Posiciona el input de color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>colorPicker</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorPicker2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rectMode</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>myshader</span>[<span style=color:#a6e22e>optionIndices</span>[<span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>value</span>()]]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>myshader</span>[<span style=color:#a6e22e>optionIndices</span>[<span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>value</span>()]].<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;uMaterial1&#39;</span>, <span style=color:#a6e22e>hexToRGBA</span>(<span style=color:#a6e22e>colorPicker</span>.<span style=color:#a6e22e>value</span>()));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>myshader</span>[<span style=color:#a6e22e>optionIndices</span>[<span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>value</span>()]].<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;uMaterial2&#39;</span>, <span style=color:#a6e22e>hexToRGBA</span>(<span style=color:#a6e22e>colorPicker2</span>.<span style=color:#a6e22e>value</span>()));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>myshader</span>[<span style=color:#a6e22e>optionIndices</span>[<span style=color:#a6e22e>dropdown</span>.<span style=color:#a6e22e>value</span>()]].<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;brightness&#39;</span>, <span style=color:#a6e22e>value</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Obtiene el valor seleccionado en el input de color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selectedColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colorPicker</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selectedColor2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colorPicker2</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Muestra el valor seleccionado en el lienzo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>selectedColor</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>150</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>selectedColor2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>150</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Dibuja el contenido del &#34;screen&#34; en el lienzo principal
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>imageMode</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>screen</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>rectMode</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>screen</span>.<span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>hexToRGBA</span>(<span style=color:#a6e22e>hex</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Elimina el símbolo &#39;#&#39; del valor hexadecimal
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>hex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hex</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#39;#&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Divide el valor hexadecimal en componentes RGB y A
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>hex</span>.<span style=color:#a6e22e>substring</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>), <span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>hex</span>.<span style=color:#a6e22e>substring</span>(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>), <span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>hex</span>.<span style=color:#a6e22e>substring</span>(<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>6</span>), <span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>255</span>; <span style=color:#75715e>// Valor de opacidad, puedes ajustarlo según sea necesario
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Devuelve el color en formato RGBA
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>r</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>g</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>b</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>a</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateValue</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Actualiza el valor de la barra en base al deslizador
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>value</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p>Also, you can select the type of blending from the select at the top of the canvas.</p><h1 id=something-else>Something else
<a class=anchor href=#something-else>#</a></h1><p>Here&rsquo;s an implementation of filters that allow you to se the an image like people with color blind, the implementation allow you to chose the type of color blind desease.</p><iframe id=color_blind_shader style=width:550px;height:400px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
            
            
            
            
            <script src=/showcase/sketches/color_blind_shader.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>color_blind.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=display:flex><span><span style=color:#75715e>// welcome to your first ever shader :)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// in glsl it is mandatory to define a precision!</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>int</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// interpolated color is emitted from the vertex shader</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// where the variable is defined in the same exact way</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// see your console!</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> u_texture;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>int</span> index;
</span></span><span style=display:flex><span><span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec2</span> texcoords2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>  mat3 colorMats[<span style=color:#ae81ff>9</span>];
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>1.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.567</span>, <span style=color:#ae81ff>0.433</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.558</span>, <span style=color:#ae81ff>0.442</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.242</span>, <span style=color:#ae81ff>0.758</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.817</span>, <span style=color:#ae81ff>0.183</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.333</span>, <span style=color:#ae81ff>0.667</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.875</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.625</span>, <span style=color:#ae81ff>0.375</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.700</span>, <span style=color:#ae81ff>0.300</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.300</span>, <span style=color:#ae81ff>0.700</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.800</span>, <span style=color:#ae81ff>0.200</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.258</span>, <span style=color:#ae81ff>0.742</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.142</span>, <span style=color:#ae81ff>0.858</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.950</span>, <span style=color:#ae81ff>0.050</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.433</span>, <span style=color:#ae81ff>0.567</span>, <span style=color:#ae81ff>0.000</span>, <span style=color:#ae81ff>0.475</span>, <span style=color:#ae81ff>0.525</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.967</span>, <span style=color:#ae81ff>0.033</span>, <span style=color:#ae81ff>0.00</span>, <span style=color:#ae81ff>0.00</span>, <span style=color:#ae81ff>0.733</span>, <span style=color:#ae81ff>0.267</span>, <span style=color:#ae81ff>0.00</span>, <span style=color:#ae81ff>0.183</span>, <span style=color:#ae81ff>0.817</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>7</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.299</span>, <span style=color:#ae81ff>0.587</span>, <span style=color:#ae81ff>0.114</span>, <span style=color:#ae81ff>0.299</span>, <span style=color:#ae81ff>0.587</span>, <span style=color:#ae81ff>0.114</span>, <span style=color:#ae81ff>0.299</span>, <span style=color:#ae81ff>0.587</span>, <span style=color:#ae81ff>0.114</span>);
</span></span><span style=display:flex><span>  colorMats[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> mat3(<span style=color:#ae81ff>0.618</span>, <span style=color:#ae81ff>0.320</span>, <span style=color:#ae81ff>0.062</span>, <span style=color:#ae81ff>0.163</span>, <span style=color:#ae81ff>0.775</span>, <span style=color:#ae81ff>0.062</span>, <span style=color:#ae81ff>0.163</span>, <span style=color:#ae81ff>0.320</span>, <span style=color:#ae81ff>0.516</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>vec4</span> texel <span style=color:#f92672>=</span> texture2D(u_texture, texcoords2);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>vec3</span> colortransform;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>6</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>6</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>7</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>7</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (index <span style=color:#f92672>==</span> <span style=color:#ae81ff>8</span>) {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>8</span>];
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    colortransform <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel.x, texel.y, texel.z) <span style=color:#f92672>*</span> colorMats[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(colortransform, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><details><summary>color_blind_shader.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JavaScript data-lang=JavaScript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorMats</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;Normal vision&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Red-Blind
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Protanopia&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Red-Weak
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Protanomaly&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Green-Blind
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Deuteranopia&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Green-Weak
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Deuteranomaly&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Blue-Blind
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Tritanopia&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Blue-Weak
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Tritanomaly&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Monochromacy
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Achromatopsia&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Blue Cone Monochromacy
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;Achromatomaly&#39;</span>
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>input</span>, <span style=color:#a6e22e>button</span>, <span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>video</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>imgURL</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://http2.mlstatic.com/D_NQ_NP_866685-MLC29350122842_022019-O.jpg&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvassize</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>400</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>usedColors</span> <span style=color:#f92672>=</span> {};
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>checkboxes</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>typeSelect</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>myshader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>f</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>indexColor</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>train</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>myshader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/color_blind.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadFont</span>(<span style=color:#e6db74>&#34;https://cdnjs.cloudflare.com/ajax/libs/topcoat/0.8.0/font/SourceCodePro-Bold.otf&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#a6e22e>imgURL</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Create a canvas to display the image and color mapping
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>canvassize</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textFont</span>(<span style=color:#a6e22e>f</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>video</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>(<span style=color:#e6db74>&#39;/showcase/sketches/mandrill.webm&#39;</span>, () =&gt; {});
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>index</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colorMats</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>index</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>checkbox</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#a6e22e>colorMats</span>[<span style=color:#a6e22e>index</span>], <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Aplica estilos CSS personalizados al checkbox
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;background-color&#39;</span>, <span style=color:#e6db74>&#39;#333&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;padding&#39;</span>, <span style=color:#e6db74>&#39;10px&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;border-radius&#39;</span>, <span style=color:#e6db74>&#39;10%&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>30</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>index</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>checkboxes</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>checkbox</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkboxes</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>checkbox</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>updateCheckboxes</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>checkbox</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;video&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;background-color&#39;</span>, <span style=color:#e6db74>&#39;#9587ed&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;padding&#39;</span>, <span style=color:#e6db74>&#39;10px&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>switchTrain</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>myshader</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textAlign</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>myshader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_texture&#39;</span>, <span style=color:#a6e22e>train</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>video</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>switchTrain</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>train</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>train</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>video</span>.<span style=color:#a6e22e>play</span>(); <span style=color:#75715e>// Reanuda la reproducción del video
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>train</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateCheckboxes</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Desmarca todos los checkboxes excepto el que se seleccionó
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>checkboxes</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>checkbox</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>checkbox</span> <span style=color:#f92672>!==</span> <span style=color:#66d9ef>this</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>indexColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>checkboxes</span>.<span style=color:#a6e22e>indexOf</span>(<span style=color:#a6e22e>checkbox</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>myshader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;index&#39;</span>, <span style=color:#a6e22e>indexColor</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }, <span style=color:#66d9ef>this</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/jumorap/showcase/commit/fabeffda865a45fbe19c947be460df694b2c4c0a title='Last modified by yeison | May 23, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 23, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#coloring>Coloring</a><ul><li><a href=#little-background>Little background</a></li><li><a href=#solution>Solution</a></li></ul></li><li><a href=#something-else>Something else</a></li></ul></nav></div></aside></main></body></html>